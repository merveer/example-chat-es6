!function(e){function t(n){if(r[n])return r[n].exports;var a=r[n]={exports:{},id:n,loaded:!1};return e[n].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}r(1);var a=r(5),o=n(a),i=r(8),s=n(i);(new o["default"]).render(document.body),s["default"].init()},function(e,t,r){var n=r(2);"string"==typeof n&&(n=[[e.id,n,""]]);r(4)(n,{});n.locals&&(e.exports=n.locals)},function(e,t,r){t=e.exports=r(3)(),t.push([e.id,"*{position:relative;box-sizing:border-box}body,h1,h2,h3,h4,h5,h6,html,menu{margin:0;padding:0}body,html{height:100%;width:100%;overflow:hidden}body{line-height:1.4em;background:#f5f5f5;color:#4d4d4d;margin:0 auto;-webkit-font-smoothing:antialiased;-moz-font-smoothing:antialiased;font-smoothing:antialiased;font-weight:300}body,button,input{font:14px 'Helvetica Neue',Helvetica,Arial,sans-serif}button,input{border:none}",""])},function(e,t){"use strict";e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var r=this[t];r[2]?e.push("@media "+r[2]+"{"+r[1]+"}"):e.push(r[1])}return e.join("")},e.i=function(t,r){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},a=0;a<this.length;a++){var o=this[a][0];"number"==typeof o&&(n[o]=!0)}for(a=0;a<t.length;a++){var i=t[a];"number"==typeof i[0]&&n[i[0]]||(r&&!i[2]?i[2]=r:r&&(i[2]="("+i[2]+") and ("+r+")"),e.push(i))}},e}},function(e,t,r){function n(e,t){for(var r=0;r<e.length;r++){var n=e[r],a=p[n.id];if(a){a.refs++;for(var o=0;o<a.parts.length;o++)a.parts[o](n.parts[o]);for(;o<n.parts.length;o++)a.parts.push(s(n.parts[o],t))}else{for(var i=[],o=0;o<n.parts.length;o++)i.push(s(n.parts[o],t));p[n.id]={id:n.id,refs:1,parts:i}}}}function a(e){for(var t=[],r={},n=0;n<e.length;n++){var a=e[n],o=a[0],i=a[1],s=a[2],u=a[3],l={css:i,media:s,sourceMap:u};r[o]?r[o].parts.push(l):t.push(r[o]={id:o,parts:[l]})}return t}function o(){var e=document.createElement("style"),t=h();return e.type="text/css",t.appendChild(e),e}function i(){var e=document.createElement("link"),t=h();return e.rel="stylesheet",t.appendChild(e),e}function s(e,t){var r,n,a;if(t.singleton){var s=b++;r=m||(m=o()),n=u.bind(null,r,s,!1),a=u.bind(null,r,s,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=i(),n=c.bind(null,r),a=function(){r.parentNode.removeChild(r),r.href&&URL.revokeObjectURL(r.href)}):(r=o(),n=l.bind(null,r),a=function(){r.parentNode.removeChild(r)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else a()}}function u(e,t,r,n){var a=r?"":n.css;if(e.styleSheet)e.styleSheet.cssText=v(t,a);else{var o=document.createTextNode(a),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(o,i[t]):e.appendChild(o)}}function l(e,t){var r=t.css,n=t.media;t.sourceMap;if(n&&e.setAttribute("media",n),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}function c(e,t){var r=t.css,n=(t.media,t.sourceMap);n&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");var a=new Blob([r],{type:"text/css"}),o=e.href;e.href=URL.createObjectURL(a),o&&URL.revokeObjectURL(o)}var p={},d=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},f=d(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),h=d(function(){return document.head||document.getElementsByTagName("head")[0]}),m=null,b=0;e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=f());var r=a(e);return n(r,t),function(e){for(var o=[],i=0;i<r.length;i++){var s=r[i],u=p[s.id];u.refs--,o.push(u)}if(e){var l=a(e);n(l,t)}for(var i=0;i<o.length;i++){var u=o[i];if(0===u.refs){for(var c=0;c<u.parts.length;c++)u.parts[c]();delete p[u.id]}}}};var v=function(){var e=[];return function(t,r){return e[t]=r,e.filter(Boolean).join("\n")}}()},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var a=e,o=t,i=r;s=l=u=void 0,n=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return void 0;e=l,t=o,r=i,n=!0}},u=r(6),l=r(7),c=n(l),p=r(13),d=n(p),f=r(29),h=n(f),m=r(37),b=n(m);r(41);var v=function(e){function t(){var e=this;a(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.rep=new c["default"],this.menu=new d["default"],this.motherPane=new h["default"],this.chatBoxes=[],this.rep.on(this.rep.EventType.ADD_CHAT_BOX,function(t){return e.onAddChatBox(t)}),this.rep.on(this.rep.EventType.REMOVE_CHAT_BOX,function(t){return e.onRemoveChatBox(t)})}return o(t,e),i(t,[{key:"onAddChatBox",value:function(e){var t=this.chatBoxes.filter(function(t){return t.thread.id==e.id})[0];if(t)return t.focus();var r=new b["default"](e);this.chatBoxes.push(r),r.render(this.$("chat-boxes"))}},{key:"onRemoveChatBox",value:function(e){var t=this;this.chatBoxes.some(function(r,n){r.thread.id==e.id&&(r.dispose(),t.chatBoxes.splice(n,1))})}},{key:"onClick",value:function(e){var t=e.target,r=!1;do if(t.matches("chat-box")||t.matches("threads-popover")){r=!0;break}while((t=t.parentNode)&&t!=document.body);!r&&this.rep.active&&this.rep.deactivateChatBox()}},{key:"render",value:function(e,r){s(Object.getPrototypeOf(t.prototype),"render",this).call(this,e,r),this.menu.render(),this.chatBoxes.forEach(function(e){return e.render()})}},{key:"templates_base",value:function(){return'<root id="'+this.id+'">\n            '+this.menu+"\n            "+this.motherPane+"\n            <chat-boxes></chat-boxes>\n            </root>"}},{key:"dispose",value:function(){this.menu.dispose(),this.chatBoxes.forEach(function(e){return e.dispose()}),s(Object.getPrototypeOf(t.prototype),"dispose",this).call(this)}},{key:"events",get:function(){return{click:{root:this.onClick}}}}]),t}(u.Culture);t["default"]=v,e.exports=t["default"]},function(e,t,r){"use strict";!function(t,r){e.exports=r()}(void 0,function(){return function(e){function t(n){if(r[n])return r[n].exports;var a=r[n]={exports:{},id:n,loaded:!1};return e[n].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),o=n(a),i=r(2),s=n(i),u=r(3),l=n(u),c=r(5),p=n(c),d=r(6),f=n(d),h=r(7),m=n(h),b=r(8),v=n(b),y=r(9),g=n(y);t.Culture=o["default"],t.CultureMinistry=s["default"],t.Diplomat=l["default"],t.Regime=p["default"],t.Representative=f["default"],t.Satellite=m["default"],t.Stereotype=v["default"],t.Undertaker=g["default"]},function(e,t,r){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(2),i=function(){function e(){n(this,e),o.setCulture(this)}return a(e,[{key:"toString",value:function(){return this.templates_base()}},{key:"$$",value:function(e){var t=null,r=this.el;return r&&(t=r.querySelectorAll(e)),t.length||(t=null),t}},{key:"$",value:function(e){var t=null,r=this.el;return r&&(t=void 0==e?r:r.querySelector(e)),t}},{key:"render",value:function(e,t){e&&(this.element=o.createElement(this.toString()),e.insertBefore(this.element,e.childNodes[t]||null))}},{key:"templates_base",value:function(){return'<div id="'+this.id+'"></div>'}},{key:"dispose",value:function(){o.removeCulture(this),this.element&&this.element.parentNode.removeChild(this.element),this.element=null,this.id_=null}},{key:"id",get:function(){return this.id_}},{key:"el",get:function(){var e=this.element;return e||(e=this.element=document.getElementById(this.id)),e}}]),e}();t["default"]=i,e.exports=t["default"]},function(e,t){function r(e){var t,r,n=e,a=[];if(r=n.getAttribute&&n.getAttribute("data-cult"))return r.split(",").forEach(function(e){return a.push(c[e])}),a;r=[];do(t=c[n.id])&&(a.push(t),r.push(n.id));while(n=n.parentNode);return e.setAttribute("data-cult",r.join(",")),a}function n(e){var t=r(e.target),n=e.target,o=!1;do{if(e.lastTarget=n,o)break;o=a(t,e)}while(n.parentNode!=document.body&&(n=n.parentNode))}function a(e,t){for(var r=!1,n=0;n<e.length;n++){var a=e[n],i=a&&a.events&&a.events[t.type];if(i){var s=Object.keys(i);if(o(a,t,i,s)===!1){r=!0;break}}}return r}function o(e,t,r,n){var a=!0;return n.forEach(function(n){if(i(t.lastTarget,n)){var o=s(t.lastTarget.id);a=r[n].call(e,t,o)}}),a}function i(e,t){return[].indexOf.call(document.querySelectorAll(t),e)>=0}function s(e){return c[e]}function u(e){e.id_=d(),c[e.id]=e}function l(e){delete c[e.id]}Object.defineProperty(t,"__esModule",{value:!0});var c={},p=["click","mouseover","mouseout","mousemove","mousedown","mouseup","scroll","keyup","keypress","focus","touchstart","touchmove","touchend"];document.addEventListener("DOMContentLoaded",function(){p.forEach(function(e){return document.body.addEventListener(e,n)})});var d=function(){var e=Math.floor(2147483648*Math.random());return function(){return(e++).toString(36)}}(),f=function(){var e=document.createElement("div");return function(t){return e.innerHTML=t,e.removeChild(e.firstChild)}}();t["default"]={getUid:d,getCulture:s,setCulture:u,removeCulture:l,createElement:f},e.exports=t["default"]},function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t,r){for(var n=!0;n;){var a=e,o=t,i=r;s=l=u=void 0,n=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return void 0;e=l,t=o,r=i,n=!0}},s=r(4),u=n(s),l=function(e){function t(){a(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,{maxListeners:1/0})}return o(t,e),t}(u["default"]);t["default"]=l,e.exports=t["default"]},function(e,t,r){var n;!function(a){function o(){this._events={},this._conf&&i.call(this,this._conf)}function i(e){e&&(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),e.maxListeners&&(this._events.maxListeners=e.maxListeners),e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this.newListener=e.newListener),this.wildcard&&(this.listenerTree={}))}function s(e){this._events={},this.newListener=!1,i.call(this,e)}function u(e,t,r,n){if(!r)return[];var a,o,i,s,l,c,p,d=[],f=t.length,h=t[n],m=t[n+1];if(n===f&&r._listeners){if("function"==typeof r._listeners)return e&&e.push(r._listeners),[r];for(a=0,o=r._listeners.length;o>a;a++)e&&e.push(r._listeners[a]);return[r]}if("*"===h||"**"===h||r[h]){if("*"===h){for(i in r)"_listeners"!==i&&r.hasOwnProperty(i)&&(d=d.concat(u(e,t,r[i],n+1)));return d}if("**"===h){p=n+1===f||n+2===f&&"*"===m,p&&r._listeners&&(d=d.concat(u(e,t,r,f)));for(i in r)"_listeners"!==i&&r.hasOwnProperty(i)&&("*"===i||"**"===i?(r[i]._listeners&&!p&&(d=d.concat(u(e,t,r[i],f))),d=d.concat(u(e,t,r[i],n))):d=i===m?d.concat(u(e,t,r[i],n+2)):d.concat(u(e,t,r[i],n)));return d}d=d.concat(u(e,t,r[h],n+1))}if(s=r["*"],s&&u(e,t,s,n+1),l=r["**"])if(f>n){l._listeners&&u(e,t,l,f);for(i in l)"_listeners"!==i&&l.hasOwnProperty(i)&&(i===m?u(e,t,l[i],n+2):i===h?u(e,t,l[i],n+1):(c={},c[i]=l[i],u(e,t,{"**":c},n+1)))}else l._listeners?u(e,t,l,f):l["*"]&&l["*"]._listeners&&u(e,t,l["*"],f);return d}function l(e,t){e="string"==typeof e?e.split(this.delimiter):e.slice();for(var r=0,n=e.length;n>r+1;r++)if("**"===e[r]&&"**"===e[r+1])return;for(var a=this.listenerTree,o=e.shift();o;){if(a[o]||(a[o]={}),a=a[o],0===e.length){if(a._listeners){if("function"==typeof a._listeners)a._listeners=[a._listeners,t];else if(c(a._listeners)&&(a._listeners.push(t),!a._listeners.warned)){var i=p;"undefined"!=typeof this._events.maxListeners&&(i=this._events.maxListeners),i>0&&a._listeners.length>i&&(a._listeners.warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",a._listeners.length),console.trace())}}else a._listeners=t;return!0}o=e.shift()}return!0}var c=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},p=10;s.prototype.delimiter=".",s.prototype.setMaxListeners=function(e){this._events||o.call(this),this._events.maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e},s.prototype.event="",s.prototype.once=function(e,t){return this.many(e,1,t),this},s.prototype.many=function(e,t,r){function n(){0===--t&&a.off(e,n),r.apply(this,arguments)}var a=this;if("function"!=typeof r)throw new Error("many only accepts instances of Function");return n._origin=r,this.on(e,n),a},s.prototype.emit=function(){this._events||o.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return!1;if(this._all){for(var t=arguments.length,r=new Array(t-1),n=1;t>n;n++)r[n-1]=arguments[n];for(n=0,t=this._all.length;t>n;n++)this.event=e,this._all[n].apply(this,r)}if("error"===e&&!(this._all||this._events.error||this.wildcard&&this.listenerTree.error))throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");var a;if(this.wildcard){a=[];var i="string"==typeof e?e.split(this.delimiter):e.slice();u.call(this,a,i,this.listenerTree,0)}else a=this._events[e];if("function"==typeof a){if(this.event=e,1===arguments.length)a.call(this);else if(arguments.length>1)switch(arguments.length){case 2:a.call(this,arguments[1]);break;case 3:a.call(this,arguments[1],arguments[2]);break;default:for(var t=arguments.length,r=new Array(t-1),n=1;t>n;n++)r[n-1]=arguments[n];a.apply(this,r)}return!0}if(a){for(var t=arguments.length,r=new Array(t-1),n=1;t>n;n++)r[n-1]=arguments[n];for(var s=a.slice(),n=0,t=s.length;t>n;n++)this.event=e,s[n].apply(this,r);return s.length>0||!!this._all}return!!this._all},s.prototype.on=function(e,t){if("function"==typeof e)return this.onAny(e),this;if("function"!=typeof t)throw new Error("on only accepts instances of Function");if(this._events||o.call(this),this.emit("newListener",e,t),this.wildcard)return l.call(this,e,t),this;if(this._events[e]){if("function"==typeof this._events[e])this._events[e]=[this._events[e],t];else if(c(this._events[e])&&(this._events[e].push(t),!this._events[e].warned)){var r=p;"undefined"!=typeof this._events.maxListeners&&(r=this._events.maxListeners),r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),console.trace())}}else this._events[e]=t;return this},s.prototype.onAny=function(e){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),this._all.push(e),this},s.prototype.addListener=s.prototype.on,s.prototype.off=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var r,n=[];if(this.wildcard){var a="string"==typeof e?e.split(this.delimiter):e.slice();n=u.call(this,null,a,this.listenerTree,0)}else{if(!this._events[e])return this;r=this._events[e],n.push({_listeners:r})}for(var o=0;o<n.length;o++){var i=n[o];if(r=i._listeners,c(r)){for(var s=-1,l=0,p=r.length;p>l;l++)if(r[l]===t||r[l].listener&&r[l].listener===t||r[l]._origin&&r[l]._origin===t){s=l;break}if(0>s)continue;return this.wildcard?i._listeners.splice(s,1):this._events[e].splice(s,1),0===r.length&&(this.wildcard?delete i._listeners:delete this._events[e]),this}(r===t||r.listener&&r.listener===t||r._origin&&r._origin===t)&&(this.wildcard?delete i._listeners:delete this._events[e])}return this},s.prototype.offAny=function(e){var t,r=0,n=0;if(e&&this._all&&this._all.length>0){for(t=this._all,r=0,n=t.length;n>r;r++)if(e===t[r])return t.splice(r,1),this}else this._all=[];return this},s.prototype.removeListener=s.prototype.off,s.prototype.removeAllListeners=function(e){if(0===arguments.length)return!this._events||o.call(this),this;if(this.wildcard)for(var t="string"==typeof e?e.split(this.delimiter):e.slice(),r=u.call(this,null,t,this.listenerTree,0),n=0;n<r.length;n++){var a=r[n];a._listeners=null}else{if(!this._events[e])return this;this._events[e]=null}return this},s.prototype.listeners=function(e){if(this.wildcard){var t=[],r="string"==typeof e?e.split(this.delimiter):e.slice();return u.call(this,t,r,this.listenerTree,0),t}return this._events||o.call(this),this._events[e]||(this._events[e]=[]),c(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},s.prototype.listenersAny=function(){return this._all?this._all:[]},n=function(){return s}.call(t,r,t,e),!(n!==a&&(e.exports=n))}()},function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t,r){for(var n=!0;n;){var a=e,o=t,i=r;s=l=u=void 0,n=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return void 0;e=l,t=o,r=i,n=!0}},s=r(4),u=n(s),l=function(e){function t(){a(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,{maxListeners:1/0})}return o(t,e),t}(u["default"]);t["default"]=l,e.exports=t["default"]},function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var a=e,o=t,i=r;s=l=u=void 0,n=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return void 0;e=l,t=o,r=i,n=!0}},u=r(4),l=n(u),c=function(e){function t(){a(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,{maxListeners:1/0})}return o(t,e),i(t,[{key:"dispose",value:function(){this.removeAllListeners()}}]),t}(l["default"]);t["default"]=c,e.exports=t["default"]},function(e,t){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function a(){r(this,a)};t["default"]=n,e.exports=t["default"]},function(e,t){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function a(){r(this,a)};t["default"]=n,e.exports=t["default"]},function(e,t){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function a(){r(this,a)};t["default"]=n,e.exports=t["default"]}])})},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var a=e,o=t,i=r;s=l=u=void 0,n=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return void 0;e=l,t=o,r=i,n=!0}},u=r(6),l=r(8),c=n(l),p=function(e){function t(){var e=this;a(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),c["default"].on(this.EventType.ADD_CHAT_BOX,function(t){return e.emit(e.EventType.ADD_CHAT_BOX,t)}),c["default"].on(this.EventType.REMOVE_CHAT_BOX,function(t){return e.emit(e.EventType.REMOVE_CHAT_BOX,t)})}return o(t,e),i(t,[{key:"deactivateChatBox",value:function(){c["default"].setActiveChatBox(null)}},{key:"active",get:function(){return!!c["default"].activeChatBox}},{key:"EventType",get:function(){return{ADD_CHAT_BOX:"add chat box",REMOVE_CHAT_BOX:"remove chat box",SET_ACTIVE_CHAT_BOX:"set active chat box"}}}]),t}(u.Representative);t["default"]=p,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var a=e,o=t,i=r;s=l=u=void 0,n=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return void 0;e=l,t=o,r=i,n=!0}},u=r(6),l=r(9),c=n(l),p=r(11),d=n(p),f=function(e){function t(){a(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.undertaker=c["default"],this.threads=[],this.activeThread=null,this.chatBoxes=[],this.activeChatBox=null,this.owner=null}return o(t,e),i(t,[{key:"init",value:function(){this.getThreads_(),this.getOwner_()}},{key:"getThreads_",value:function(){var e=this;this.undertaker.getThreads(function(t,r){return e.onInitialData(t,r)})}},{key:"setupUpdates_",value:function(){var e=this;setTimeout(function(){return e.undertaker.getUpdates(function(t,r){return e.onUpdate(t,r)})},1e3)}},{key:"onInitialData",value:function(e,t){e||(this.threads=t.threads.map(function(e){return new d["default"](e)}),this.activeThread=this.threads[0],this.activeThread.active=!0,this.emit(this.EventType.INITIAL_DATA),this.setupUpdates_())}},{key:"getThreadById",value:function(e){return this.threads.filter(function(t){return t.id==e})[0]}},{key:"onUpdate",value:function(e,t){var r=this;return e||!t.length?this.setupUpdates_():(t=t.filter(function(e){var t=r.getThreadById(e.thread.id);if(!t)return!1;var n=e.thread.messages.slice(t.messages.length);return n.length?(t.messages.push(n),t.unread=e.thread.id!=r.activeThread.id&&(r.activeChatBox?r.activeChatBox.id!=e.thread.id:!0),t.active=e.thread.id==r.activeThread.id,!0):!1}),t.length?(this.emit(this.EventType.NEW_MESSAGE,t),void this.setupUpdates_()):this.setupUpdates_())}},{key:"setActiveChatBox",value:function(e){this.activeChatBox!=e&&(this.activeChatBox=e,e&&(this.activeChatBox.unread=!1),this.emit(this.EventType.SET_ACTIVE_CHAT_BOX))}},{key:"addChatBox",value:function(e){-1==this.chatBoxes.indexOf(e)&&this.chatBoxes.push(e),this.setActiveChatBox(e),this.emit(this.EventType.ADD_CHAT_BOX,e)}},{key:"removeChatBox",value:function(e){var t=this.chatBoxes.indexOf(e);-1!=t&&(this.chatBoxes.splice(t,1,0),this.setActiveChatBox(null),this.emit(this.EventType.REMOVE_CHAT_BOX,e))}},{key:"getUnreadCount",value:function(){return this.threads.filter(function(e){return e.unread}).length}},{key:"setActive",value:function(e){this.activeThread!=e&&(this.activeThread=e,this.activeThread.unread=!1,this.emit(this.EventType.SET_ACTIVE_THREAD))}},{key:"getOwner_",value:function(){var e=this;this.undertaker.getOwner(function(t,r){return e.owner=r})}},{key:"EventType",get:function(){return{INITIAL_DATA:"initial data",SET_ACTIVE_THREAD:"set active thread",SET_ACTIVE_CHAT_BOX:"set active chat box",NEW_MESSAGE:"new message",ADD_CHAT_BOX:"add chat box",REMOVE_CHAT_BOX:"remove chat box"}}}]),t}(u.Regime);t["default"]=new f,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(10),s=n(i),u=function(){function e(){a(this,e)}return o(e,[{key:"getThreads",value:function(e){var t=JSON.parse(JSON.stringify(s["default"].db));setTimeout(e.bind(null,null,t),300)}},{key:"getUpdates",value:function(e){setTimeout(function(){var t=JSON.parse(JSON.stringify(s["default"].updates));e(null,t),s["default"].updates.length=0},100)}},{key:"getOwner",value:function(e){console.log(s["default"].owner);var t=JSON.parse(JSON.stringify(s["default"].owner));e(null,t)}}]),e}();t["default"]=new u,e.exports=t["default"]},function(e,t){"use strict";function r(){var e=o.threads.length,t=o.threads[Math.floor(Math.random()*e)];t.messages.push(n()),u.push({thread:t})}function n(){return s[Math.floor(Math.random()*s.length)]}function a(){var e=Math.floor(10*Math.random()+10);return new Array(e).join().split("").map(function(){return n()})}Object.defineProperty(t,"__esModule",{value:!0});var o={threads:[{user:{gender:"male",name:{title:"mr",first:"miguel",last:"hamilton"},location:{street:"5860 central st",city:"stanley",state:"california",zip:60987},email:"miguel.hamilton@example.com",username:"heavygoose877",password:"users",salt:"Tcenyd2H",md5:"12812ac8f72356c2df69f59463c5d505",sha1:"eab58a7abaf84233b69c753a306c2d8175603c4b",sha256:"24d0ecbd76362370349c83900ff82de8d9ee23e838ed777fba5703f711352e47",registered:1110516558,dob:989806145,phone:"(176)-160-1038",cell:"(284)-648-9227",SSN:"959-69-1558",picture:{large:"https://randomuser.me/api/portraits/men/67.jpg",medium:"https://randomuser.me/api/portraits/med/men/67.jpg",thumbnail:"https://randomuser.me/api/portraits/thumb/men/67.jpg"}}},{user:{gender:"female",name:{title:"ms",first:"marsha",last:"fernandez"},location:{street:"6255 pockrus page rd",city:"athens",state:"utah",zip:67987},email:"marsha.fernandez@example.com",username:"blueleopard487",password:"bird33",salt:"yaLnNspZ",md5:"8ccbf5cabbe6cd6acbe4108898767701",sha1:"f637cbadb9f3b4fc4892bcbf4b4017a9c9b597ad",sha256:"ad69fe208dbeca49a8388fdd2a9827da16698c6cbcad5f062f37717fb6440e8b",registered:1063682185,dob:242173753,phone:"(969)-458-9278",cell:"(309)-096-8840",SSN:"374-89-5230",picture:{large:"https://randomuser.me/api/portraits/women/92.jpg",medium:"https://randomuser.me/api/portraits/med/women/92.jpg",thumbnail:"https://randomuser.me/api/portraits/thumb/women/92.jpg"}}},{user:{gender:"male",name:{title:"mr",first:"fernando",last:"snyder"},location:{street:"8972 camden ave",city:"fargo",state:"florida",zip:27170},email:"fernando.snyder@example.com",username:"heavyladybug515",password:"hollow",salt:"zjvjey5F",md5:"58abe1b9573af596559f1a71a8813b09",sha1:"f175d6df651d691d865f629a04528ccd8ec7d04b",sha256:"9a3395036223e23aa81ca2b4223541f28185ff442305765e0c776add874a6e54",registered:1220719065,dob:133415925,phone:"(859)-477-3194",cell:"(949)-560-7272",SSN:"679-06-0196",picture:{large:"https://randomuser.me/api/portraits/men/47.jpg",medium:"https://randomuser.me/api/portraits/med/men/47.jpg",thumbnail:"https://randomuser.me/api/portraits/thumb/men/47.jpg"}}},{user:{gender:"female",name:{title:"mrs",first:"beverly",last:"woods"},location:{street:"1126 paddock way",city:"cary",state:"georgia",zip:33513},email:"beverly.woods@example.com",username:"orangerabbit988",password:"alexia",salt:"60RKbcuJ",md5:"d2a14637ec486dcbc574683bd5ae6766",sha1:"b881119c18a1855e3aeac6ee6cf03c9fd7503b1b",sha256:"1667d547d497ebde1a2fbf389c4c228a5f2f2bed5008ab9d65a30dd04c6c8e8c",registered:1189273178,dob:24811031,phone:"(263)-096-0700",cell:"(575)-465-4859",SSN:"834-94-7301",picture:{large:"https://randomuser.me/api/portraits/women/67.jpg",medium:"https://randomuser.me/api/portraits/med/women/67.jpg",thumbnail:"https://randomuser.me/api/portraits/thumb/women/67.jpg"}}},{user:{gender:"female",name:{title:"ms",first:"veronica",last:"watts"},location:{street:"4099 cackson st",city:"cape coral",state:"arizona",zip:25854},email:"veronica.watts@example.com",username:"purpleladybug418",password:"head",salt:"9j7gRDXo",md5:"df0b9c2b9a0af07f5387078cabbaba94",sha1:"eb2962ba476cc4c2c8a81558d80416de975cac46",sha256:"b76c80edf6af6a42e70aa63bcac6ff6eeb8c8ee0376a88f7202432a034b0e257",registered:1208174039,dob:429832754,phone:"(444)-265-7301",cell:"(262)-054-2270",SSN:"161-14-8052",picture:{large:"https://randomuser.me/api/portraits/women/84.jpg",medium:"https://randomuser.me/api/portraits/med/women/84.jpg",thumbnail:"https://randomuser.me/api/portraits/thumb/women/84.jpg"}}},{user:{gender:"male",name:{title:"mr",first:"zack",last:"fletcher"},location:{street:"7054 westheimer rd",city:"simi valley",
state:"kansas",zip:37691},email:"zack.fletcher@example.com",username:"blueladybug342",password:"shuai",salt:"gUQDlKEr",md5:"e5e22f4041d688a060065dbdb6ae91b4",sha1:"3b0de01a4b69a2b4ad39db163312698dacd39f9c",sha256:"39aa7322abac2dc94e38c41dc63ecff080264a7d5e860d082af88c9bafa053bc",registered:962639528,dob:250434885,phone:"(152)-323-9961",cell:"(519)-043-5540",SSN:"915-11-8640",picture:{large:"https://randomuser.me/api/portraits/men/38.jpg",medium:"https://randomuser.me/api/portraits/med/men/38.jpg",thumbnail:"https://randomuser.me/api/portraits/thumb/men/38.jpg"}}},{user:{gender:"female",name:{title:"ms",first:"serenity",last:"parker"},location:{street:"4321 depaul dr",city:"berkeley",state:"vermont",zip:94247},email:"serenity.parker@example.com",username:"heavymeercat274",password:"abcd",salt:"zldoXgry",md5:"8c01853eb7da9a1e5d6cdf7e7f578655",sha1:"8f3eee2b9057974f1c6fb87a07fd6289d70e20fa",sha256:"7e31f24c6c8d76b0962d6a8dbd61c009308e07a91a56cc7287192e53be131557",registered:1332698149,dob:494223784,phone:"(133)-781-0762",cell:"(049)-286-1799",SSN:"494-32-5694",picture:{large:"https://randomuser.me/api/portraits/women/81.jpg",medium:"https://randomuser.me/api/portraits/med/women/81.jpg",thumbnail:"https://randomuser.me/api/portraits/thumb/women/81.jpg"}}},{user:{gender:"male",name:{title:"mr",first:"harvey",last:"gomez"},location:{street:"9682 hillcrest rd",city:"elk grove",state:"new hampshire",zip:20152},email:"harvey.gomez@example.com",username:"lazyfish246",password:"casey1",salt:"WiYMavTo",md5:"45c34518d48e9a7f6f894f74a16dd00c",sha1:"0a6443c39e6058990d60866f5e0062c214a168ed",sha256:"9af54f427f0f7b523932a0841bd0269ff9643119c83d289e14d156398cd04bb6",registered:1077171383,dob:1379712452,phone:"(337)-812-5265",cell:"(010)-595-4872",SSN:"282-28-5247",picture:{large:"https://randomuser.me/api/portraits/men/74.jpg",medium:"https://randomuser.me/api/portraits/med/men/74.jpg",thumbnail:"https://randomuser.me/api/portraits/thumb/men/74.jpg"}}},{user:{gender:"male",name:{title:"mr",first:"scott",last:"patterson"},location:{street:"5922 lakeview st",city:"woodbridge",state:"minnesota",zip:88725},email:"scott.patterson@example.com",username:"whitekoala228",password:"warlock",salt:"KSX1hjsf",md5:"e833c971e016822ab5f30cb714b54a2c",sha1:"3378c8a8e55d1419039ac0134dbd3a03ae33d5f4",sha256:"79350c065d7107400b5894220f5b886bbb81f55cafc54c6e8baf1889b62e269d",registered:1174219910,dob:1058108276,phone:"(102)-162-7167",cell:"(254)-374-4020",SSN:"802-20-5539",picture:{large:"https://randomuser.me/api/portraits/men/78.jpg",medium:"https://randomuser.me/api/portraits/med/men/78.jpg",thumbnail:"https://randomuser.me/api/portraits/thumb/men/78.jpg"}}},{user:{gender:"female",name:{title:"mrs",first:"julie",last:"chambers"},location:{street:"9684 miller ave",city:"mckinney",state:"maine",zip:25116},email:"julie.chambers@example.com",username:"tinykoala645",password:"mister",salt:"cNtOVzVU",md5:"86bff201b1260f84854fbdf2ac9a3f95",sha1:"50320a6dd290eb53cad8f3d1b6290a5d2a3bd8d0",sha256:"5e971a7669fbc3b8ed93ba9953c1926a8f64baaec7dcd910b397a8d6467c9c0b",registered:1409772433,dob:106224710,phone:"(859)-957-3480",cell:"(773)-050-6290",SSN:"312-24-2541",picture:{large:"https://randomuser.me/api/portraits/women/19.jpg",medium:"https://randomuser.me/api/portraits/med/women/19.jpg",thumbnail:"https://randomuser.me/api/portraits/thumb/women/19.jpg"}}},{user:{gender:"female",name:{title:"mrs",first:"beatrice",last:"moore"},location:{street:"9458 spring hill rd",city:"elgin",state:"new york",zip:56250},email:"beatrice.moore@example.com",username:"organicladybug890",password:"miriam",salt:"nCcRqkgH",md5:"6a76a5c712773b714608e3c29dac63cf",sha1:"bde32fbf7ad3653e96b718a55530158a7552b63e",sha256:"5ea73a2782e509b406a8db7c1e8672bd630990840bfa2a603601a8d13fbe0c37",registered:1138531824,dob:390916986,phone:"(286)-723-0078",cell:"(806)-602-3781",SSN:"184-59-1027",picture:{large:"https://randomuser.me/api/portraits/women/88.jpg",medium:"https://randomuser.me/api/portraits/med/women/88.jpg",thumbnail:"https://randomuser.me/api/portraits/thumb/women/88.jpg"}}},{user:{gender:"male",name:{title:"mr",first:"rick",last:"peters"},location:{street:"9093 dogwood ave",city:"cary",state:"colorado",zip:47246},email:"rick.peters@example.com",username:"smallsnake414",password:"meatball",salt:"OBhVfAz5",md5:"3376bed16d4b4dc89c2d8d262d0a5702",sha1:"fc79f2fc8b5a624cde598f5732d6fa1c91862cac",sha256:"abeaf6c4d673800b05f59a98fe4714a03c2a299ce09050263be38e9e6c393e2f",registered:1244605317,dob:171433084,phone:"(335)-469-8407",cell:"(925)-795-2954",SSN:"172-59-3341",picture:{large:"https://randomuser.me/api/portraits/men/85.jpg",medium:"https://randomuser.me/api/portraits/med/men/85.jpg",thumbnail:"https://randomuser.me/api/portraits/thumb/men/85.jpg"}}},{user:{gender:"male",name:{title:"mr",first:"carl",last:"perez"},location:{street:"2913 country club rd",city:"inglewood",state:"maine",zip:52664},email:"carl.perez@example.com",username:"greenelephant967",password:"water1",salt:"2P84PTaV",md5:"693128971ee2972d470a85db4e4ccd8b",sha1:"448fa127cf60e6ccd76a499ddb7f27eab3526404",sha256:"9968d4d4933e2577a6cbfcc72cc65544ff2025df19fb3395f232ae90bf2f0e52",registered:1099480179,dob:806066851,phone:"(523)-020-1819",cell:"(096)-278-1106",SSN:"057-67-6144",picture:{large:"https://randomuser.me/api/portraits/men/92.jpg",medium:"https://randomuser.me/api/portraits/med/men/92.jpg",thumbnail:"https://randomuser.me/api/portraits/thumb/men/92.jpg"}}},{user:{gender:"female",name:{title:"mrs",first:"claire",last:"alexander"},location:{street:"4447 green rd",city:"vancouver",state:"illinois",zip:11380},email:"claire.alexander@example.com",username:"tinymouse663",password:"rosario",salt:"QxlI45kK",md5:"35989427f9d8ed1707a0116fefdf3f77",sha1:"3e81c8f24b8dd364cf388353e4026c95a82efb16",sha256:"30ccc69aa60fcbe219be94ca251456918ca7657a0fbaecfc6ef21f6dff6bc70a",registered:1062833597,dob:1234475675,phone:"(234)-808-7490",cell:"(213)-217-0342",SSN:"396-51-4321",picture:{large:"https://randomuser.me/api/portraits/women/95.jpg",medium:"https://randomuser.me/api/portraits/med/women/95.jpg",thumbnail:"https://randomuser.me/api/portraits/thumb/women/95.jpg"}}},{user:{gender:"female",name:{title:"ms",first:"georgia",last:"wade"},location:{street:"3715 fincher rd",city:"lubbock",state:"mississippi",zip:39603},email:"georgia.wade@example.com",username:"smallgorilla447",password:"pepper",salt:"njknKXaR",md5:"9e8ebe84a39238ecbfdda0a519fdf4a4",sha1:"2bee43386c0b82edcda64526c209c661f58b45d4",sha256:"035440b81690f1e04fe36d19f89f388688dddf2d1dc39494e5788350e1a0bce7",registered:1145505196,dob:665972869,phone:"(793)-848-8641",cell:"(243)-734-6292",SSN:"579-67-6440",picture:{large:"https://randomuser.me/api/portraits/women/93.jpg",medium:"https://randomuser.me/api/portraits/med/women/93.jpg",thumbnail:"https://randomuser.me/api/portraits/thumb/women/93.jpg"}}},{user:{gender:"female",name:{title:"ms",first:"andrea",last:"harris"},location:{street:"6599 valwood pkwy",city:"tulsa",state:"new jersey",zip:90324},email:"andrea.harris@example.com",username:"silverladybug816",password:"goforit",salt:"KLtDf8m8",md5:"e1b02150987f7f272dcec4f0ff410ef6",sha1:"bd46e0b555b234edc0e48117f32dd7ad96dbace3",sha256:"989d70c423514529bf9a43b6940970aa18ff96667ac39506747addcdab09d108",registered:1403436298,dob:708143727,phone:"(548)-355-7474",cell:"(000)-175-7357",SSN:"862-64-3564",picture:{large:"https://randomuser.me/api/portraits/women/46.jpg",medium:"https://randomuser.me/api/portraits/med/women/46.jpg",thumbnail:"https://randomuser.me/api/portraits/thumb/women/46.jpg"}}},{user:{gender:"male",name:{title:"mr",first:"tom",last:"george"},location:{street:"6287 plum st",city:"lancaster",state:"texas",zip:60454},email:"tom.george@example.com",username:"organicladybug618",password:"queens",salt:"WIy2mxVZ",md5:"586d63f1ccea55972924b0ebdb52b9f2",sha1:"9295e7ffe22bac95d95488fd292a47cbde70d49c",sha256:"08d45b26137b8e5392faac73e8c0580ab9795cf8b1f1ec043f2ac903b215e11f",registered:1141941950,dob:939638846,phone:"(545)-934-9766",cell:"(695)-612-5377",SSN:"578-24-2255",picture:{large:"https://randomuser.me/api/portraits/men/35.jpg",medium:"https://randomuser.me/api/portraits/med/men/35.jpg",thumbnail:"https://randomuser.me/api/portraits/thumb/men/35.jpg"}}},{user:{gender:"male",name:{title:"mr",first:"freddie",last:"morales"},location:{street:"4219 frances ct",city:"seagoville",state:"nebraska",zip:36703},email:"freddie.morales@example.com",username:"greencat442",password:"word",salt:"dUeK2q2d",md5:"a3b84b4f9ccc31f07074ea39e98b5c73",sha1:"a86f5165d933d0561d9190b1ed88cb03eb932f16",sha256:"94758427b6a965edae305f940e02551e08a0f06067738732baff69fcabae7649",registered:983529466,dob:974109015,phone:"(031)-466-7973",cell:"(381)-296-6725",SSN:"570-83-3368",picture:{large:"https://randomuser.me/api/portraits/men/23.jpg",medium:"https://randomuser.me/api/portraits/med/men/23.jpg",thumbnail:"https://randomuser.me/api/portraits/thumb/men/23.jpg"}}},{user:{gender:"male",name:{title:"mr",first:"luke",last:"gardner"},location:{street:"3324 taylor st",city:"newport news",state:"hawaii",zip:54955},email:"luke.gardner@example.com",username:"crazytiger327",password:"racers",salt:"FtOtgPi0",md5:"3eef8ed8c360ce3f8e6b8ac24aebfc9b",sha1:"9295802ad8d6073208097f808f046145dd3bb57f",sha256:"73e5634e883e3a6c7dd4b28a5f2b485ef83b8e9f216b0a6af57e7496afb9c39e",registered:1288417064,dob:979418132,phone:"(388)-378-7984",cell:"(086)-107-8962",SSN:"443-06-2893",picture:{large:"https://randomuser.me/api/portraits/men/79.jpg",medium:"https://randomuser.me/api/portraits/med/men/79.jpg",thumbnail:"https://randomuser.me/api/portraits/thumb/men/79.jpg"}}},{user:{gender:"female",name:{title:"ms",first:"brandie",last:"sims"},location:{street:"8618 walnut hill ln",city:"anaheim",state:"new hampshire",zip:44279},email:"brandie.sims@example.com",username:"purplewolf520",password:"choochoo",salt:"Ly4mXsqb",md5:"86b76abde4f5d6e44c1b3a2c30354bd1",sha1:"4920beaeb86a456bcc726f1487b3f6533cf04d54",sha256:"e78c9c8d46158d7cfda3d5baa71752b252061c4f0344ce1dd04e23fa93b9636a",registered:1350525067,dob:31400990,phone:"(667)-015-0908",cell:"(529)-358-3674",SSN:"300-29-9205",picture:{large:"https://randomuser.me/api/portraits/women/0.jpg",medium:"https://randomuser.me/api/portraits/med/women/0.jpg",thumbnail:"https://randomuser.me/api/portraits/thumb/women/0.jpg"}}},{user:{gender:"female",name:{title:"ms",first:"harper",last:"martinez"},location:{street:"8049 preston rd",city:"cary",state:"arkansas",zip:18124},email:"harper.martinez@example.com",username:"whitegoose949",password:"smokie",salt:"Ncroxbe3",md5:"c66d77bcbd0a477c8ffbbadda4d8893e",sha1:"9d5456fdf721a341c64727ae42e316a7388f862d",sha256:"da91ccaffc6e1d9199593e89365632b69e566230b0ebfead27409ba8bb679d1a",registered:1318848198,dob:864745543,phone:"(187)-292-8311",cell:"(857)-076-7516",SSN:"348-11-1777",picture:{large:"https://randomuser.me/api/portraits/women/13.jpg",medium:"https://randomuser.me/api/portraits/med/women/13.jpg",thumbnail:"https://randomuser.me/api/portraits/thumb/women/13.jpg"}}},{user:{gender:"male",name:{title:"mr",first:"mark",last:"harper"},location:{street:"1290 e sandy lake rd",city:"st. petersburg",state:"indiana",zip:54137},email:"mark.harper@example.com",username:"ticklishfrog298",password:"clemente",salt:"mwDK68w0",md5:"af5d94bf90444cd4bb9c97297e7c20a6",sha1:"8a495cd5a42051b1ff587155283bad1f6e0ef434",sha256:"7c0066347eb22e0f249870070b09032f8350c371606f299a5df29d80fde8f138",registered:1025296634,dob:40651378,phone:"(913)-619-1048",cell:"(078)-353-9081",SSN:"316-83-4127",picture:{large:"https://randomuser.me/api/portraits/men/90.jpg",medium:"https://randomuser.me/api/portraits/med/men/90.jpg",thumbnail:"https://randomuser.me/api/portraits/thumb/men/90.jpg"}}},{user:{gender:"female",name:{title:"miss",first:"aubree",last:"austin"},location:{street:"1988 walnut hill ln",city:"san jose",state:"alaska",zip:57805},email:"aubree.austin@example.com",username:"bigbutterfly549",password:"jade",salt:"Jx81WDzL",md5:"36ec194097cb427f31085583106797c6",sha1:"c3245384353ca4267d11ae68c2f66c3bd5180278",sha256:"3bb5d4b83d8f19adf7f5b438614719bd500f51e7aaf347cc1cb3e29bf033c514",registered:924964083,dob:166766658,phone:"(144)-731-3082",cell:"(517)-717-7069",SSN:"732-45-1907",picture:{large:"https://randomuser.me/api/portraits/women/25.jpg",medium:"https://randomuser.me/api/portraits/med/women/25.jpg",thumbnail:"https://randomuser.me/api/portraits/thumb/women/25.jpg"}}},{user:{gender:"male",name:{title:"mr",first:"flenn",last:"duncan"},location:{street:"1428 daisy dr",city:"moreno valley",state:"alaska",zip:44681},email:"flenn.duncan@example.com",username:"silverlion895",password:"johnson1",salt:"rhsDEly1",md5:"bac366ee88b585602b797aecbfbebbb7",sha1:"946a74dbd36434f4a628a628bf5142b267637191",sha256:"97b4d0d4b769d4b1255ca394f80013a9542431424a00e7424c55ffd001e2e7a6",registered:1229687955,dob:1424166793,phone:"(367)-262-9091",cell:"(219)-730-8130",SSN:"783-69-5083",picture:{large:"https://randomuser.me/api/portraits/men/28.jpg",medium:"https://randomuser.me/api/portraits/med/men/28.jpg",thumbnail:"https://randomuser.me/api/portraits/thumb/men/28.jpg"}}},{user:{gender:"male",name:{title:"mr",first:"mario",last:"burke"},location:{street:"5878 w 6th st",city:"athens",state:"vermont",zip:37779},email:"mario.burke@example.com",username:"greenpanda859",password:"aaaaaa",salt:"2lmLAiWW",md5:"a9c4d8f33dd8c3ff4d4b201301ee32e9",sha1:"a4940c664c87bd098095c18dc6ec4e9cf8f8bbb5",sha256:"7cc29f9b65534a7930b2c035ca6bb6d0c04d7ee297e055dc150e804daf7b636d",registered:1033520247,dob:673535739,phone:"(292)-710-7264",cell:"(246)-490-7302",SSN:"731-03-1412",picture:{large:"https://randomuser.me/api/portraits/men/60.jpg",medium:"https://randomuser.me/api/portraits/med/men/60.jpg",thumbnail:"https://randomuser.me/api/portraits/thumb/men/60.jpg"}}},{user:{gender:"female",name:{title:"mrs",first:"nicole",last:"simpson"},location:{street:"5565 westheimer rd",city:"tempe",state:"louisiana",zip:32783},email:"nicole.simpson@example.com",username:"lazyrabbit747",password:"alfredo",salt:"SmE6EMa0",md5:"98e19d12735496e071ae5eed5c538d84",sha1:"8c206d18759d1936a27d298fbca63bcbc19fac9f",sha256:"18a5cacbd8e087a84a5061442a1eb615fee7e08007813d4c49866fbff4b11e15",registered:1022213973,dob:56990681,phone:"(451)-661-4751",cell:"(830)-837-4304",SSN:"074-34-0301",picture:{large:"https://randomuser.me/api/portraits/women/54.jpg",medium:"https://randomuser.me/api/portraits/med/women/54.jpg",thumbnail:"https://randomuser.me/api/portraits/thumb/women/54.jpg"}}},{user:{gender:"male",name:{title:"mr",first:"micheal",last:"payne"},location:{street:"1473 prospect rd",city:"chesapeake",state:"iowa",zip:46193},email:"micheal.payne@example.com",username:"whitebear163",password:"dammit",salt:"nF9YoNfx",md5:"03f36b933f21ad601ec59a7d3aa30775",sha1:"e9b7cf95b8dce2c027110a090953924563011d0c",sha256:"00806664b227647dd1feb7006c987581460286e63d0edac1f799df7807a85ccb",registered:1024268792,dob:1436444776,phone:"(063)-494-6749",cell:"(504)-565-0639",SSN:"956-08-7670",picture:{large:"https://randomuser.me/api/portraits/men/20.jpg",medium:"https://randomuser.me/api/portraits/med/men/20.jpg",thumbnail:"https://randomuser.me/api/portraits/thumb/men/20.jpg"}}},{user:{gender:"male",name:{title:"mr",first:"bobby",last:"andrews"},location:{street:"2692 w pecan st",city:"escondido",state:"north carolina",zip:95427},email:"bobby.andrews@example.com",username:"tinybird231",password:"camero",salt:"rWHda8RJ",md5:"307646f68a4d6f22f89e3d269f01594c",sha1:"442b9277c6bcf175e0b467221d52273165aad201",sha256:"2c3c0d3c48d0186044da1357c5fff553e688810907fb0a9382084051d65e6b6a",registered:1026106549,dob:910221213,phone:"(062)-579-1857",cell:"(357)-831-2086",SSN:"505-12-1001",picture:{large:"https://randomuser.me/api/portraits/men/86.jpg",medium:"https://randomuser.me/api/portraits/med/men/86.jpg",thumbnail:"https://randomuser.me/api/portraits/thumb/men/86.jpg"}}},{user:{gender:"female",name:{title:"ms",first:"joy",last:"dixon"},location:{street:"6445 rolling green rd",city:"altoona",state:"arizona",zip:66028},email:"joy.dixon@example.com",username:"smalldog128",password:"maker",salt:"6cGE14wd",md5:"c8600cd0babf6fa9b254a6e16b7ef4c6",sha1:"6699f61224273f13c79e5fb1effcd655d62668de",sha256:"5752dadeda34715ecc65999dc6b12472e6662acf94ddcc206c747a326f35af77",registered:1307186849,dob:773802277,phone:"(224)-839-7471",cell:"(073)-261-1584",SSN:"124-33-3729",picture:{large:"https://randomuser.me/api/portraits/women/55.jpg",medium:"https://randomuser.me/api/portraits/med/women/55.jpg",thumbnail:"https://randomuser.me/api/portraits/thumb/women/55.jpg"}}},{user:{gender:"male",name:{title:"mr",first:"jose",last:"white"},location:{street:"2776 e little york rd",city:"ontario",state:"kansas",zip:97466},email:"jose.white@example.com",username:"crazyostrich494",password:"johannes",salt:"Jgq52Plp",md5:"fac7e37776b1411142e49e31ab76aa3c",sha1:"c477040c30fbbc095b04d659c75200c60b92f653",sha256:"3660abf896dc2cfe1ee83450266ac0ec8ca95d005c3e13a5e0f285cb01e349bb",registered:1108788393,dob:820843447,phone:"(665)-087-0793",cell:"(775)-042-5284",SSN:"910-29-4904",picture:{large:"https://randomuser.me/api/portraits/men/92.jpg",medium:"https://randomuser.me/api/portraits/med/men/92.jpg",thumbnail:"https://randomuser.me/api/portraits/thumb/men/92.jpg"}}}]},i="How promotion excellent curiosity yet attempted happiness. Gay prosperous impression had conviction. For every delay death ask style. Me mean able my by in they. Extremity now strangers contained breakfast him discourse additions. Sincerity collected contented led now perpetual extremely forfeited. Living valley had silent eat merits esteem bed. In last an or went wise as left. Visited civilly am demesne so colonel he calling. So unreserved do interested increasing sentiments. Vanity day giving points within six not law. Few impression difficulty his use has comparison decisively. Next his only boy meet the fat rose when. Do repair at we misery wanted remove remain income. Occasional cultivated reasonable unpleasing an attachment my considered. Having ask and coming object seemed put did admire figure. Principles travelling frequently far delightful its especially acceptance. Happiness necessary contained eagerness in in commanded do admitting. Favourable continuing difficulty had her solicitude far. Nor doubt off widow all death aware offer. We will up able in both do sing. Day handsome addition horrible sensible goodness two contempt. Evening for married his account removal. Estimable me disposing of be moonlight cordially curiosity. Delay rapid joy share allow age manor six. Went why far saw many knew. Exquisite excellent son gentleman acuteness her. Do is voice total power mr ye might round still. In it except to so temper mutual tastes mother. Interested cultivated its continuing now yet are. Out interested acceptance our partiality affronting unpleasant why add. Esteem garden men yet shy course. Consulted up my tolerably sometimes perpetual oh. Expression acceptance imprudence particular had eat unsatiable. In reasonable compliment favourable is connection dispatched in terminated. Do esteem object we called father excuse remove. So dear real on like more it. Laughing for two families addition expenses surprise the. If sincerity he to curiosity arranging. Learn taken terms be as. Scarcely mrs produced too removing new old. An sincerity so extremity he additions. Her yet there truth merit. Mrs all projecting favourable now unpleasing. Son law garden chatty temper. Oh children provided to mr elegance marriage strongly. Off can admiration prosperous now devonshire diminution law. Her extensive perceived may any sincerity extremity. Indeed add rather may pretty see. Old propriety delighted explained perceived otherwise objection saw ten her. Doubt merit sir the right these alone keeps. By sometimes intention smallness he northward. Consisted we otherwise arranging commanded discovery it explained. Does cold even song like two yet been. Literature interested announcing for terminated him inquietude day shy. Himself he fertile chicken perhaps waiting if highest no it. Continued promotion has consulted fat improving not way. Agreed joy vanity regret met may ladies oppose who. Mile fail as left as hard eyes. Meet made call in mean four year it to. Prospect so branched wondered sensible of up. For gay consisted resolving pronounce sportsman saw discovery not. Northward or household as conveying we earnestly believing. No in up contrasted discretion inhabiting excellence. Entreaties we collecting unpleasant at everything conviction. Seen you eyes son show. Far two unaffected one alteration apartments celebrated but middletons interested. Described deficient applauded consisted my me do. Passed edward two talent effect seemed engage six. On ye great do child sorry lived. Proceed cottage far letters ashamed get clothes day. Stairs regret at if matter to. On as needed almost at basket remain. By improved sensible servants children striking in surprise.",s=i.split(". "),u=[];o.threads.forEach(function(e){e.messages=a(),e.id=e.user.username});var l={gender:"female",name:{title:"miss",first:"ana",last:"garnier"},location:{street:"3206 boulevard de balmont",city:"vitry-sur-seine",state:"alpes-maritimes",zip:98343},email:"ana.garnier@example.com",username:"reddog185",password:"secure",salt:"jwNyQ4TG",md5:"e2f4b9098b0c4f6b0908e66e590f3b15",sha1:"b9f029fd3e890b393013b271804ea176ff3c9dae",sha256:"72532e6bea29be4408f448d9eca5781d44372e15e219aa33af267590945a67f1",registered:1362279457,dob:1271022321,phone:"04-75-09-99-12",cell:"06-99-42-16-31",INSEE:"2100406109776 32",picture:{large:"https://randomuser.me/api/portraits/women/82.jpg",medium:"https://randomuser.me/api/portraits/med/women/82.jpg",thumbnail:"https://randomuser.me/api/portraits/thumb/women/82.jpg"}};setInterval(r,2e3),t["default"]={db:o,updates:u,owner:l},e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=r(12),i=n(o),s=function u(e){a(this,u),this.id=e.id,this.user=new i["default"](e.user),this.messages=e.messages,this.active=!1,this.unread=!1};t["default"]=s,e.exports=t["default"]},function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e){return e[0].toUpperCase()+e.slice(1)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(){function e(t){r(this,e),this.gender=t.gender,this.name=t.name,this.picture=t.picture}return a(e,[{key:"fullname",get:function(){return n(this.name.first)+" "+n(this.name.last)}}]),e}();t["default"]=o,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var a=e,o=t,i=r;s=l=u=void 0,n=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return void 0;e=l,t=o,r=i,n=!0}},u=r(6),l=r(14),c=n(l),p=r(15),d=n(p);r(27);var f=function(e){function t(){var e=this;a(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.rep=new c["default"],this.popover=new d["default"],this.rep.on(this.rep.EventType.UPDATE,function(){return e.onUpdate()})}return o(t,e),i(t,[{key:"onUpdate",value:function(){this.$("button").innerHTML=this.templates_button()}},{key:"onClickButton",value:function(){this.popover.toggle()}},{key:"templates_base",value:function(){return'<menu id="'+this.id+'">\n            <h1>Chat</h1>\n            <button>'+this.templates_button()+"</button>\n            "+this.popover+"\n            </menu>"}},{key:"templates_button",value:function(){var e=this.rep.unreadCount||"";return e&&(e="("+e+")"),"<span>Threads "+e+"</span>"}},{key:"events",get:function(){return{click:{button:this.onClickButton}}}}]),t}(u.Culture);t["default"]=f,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var a=e,o=t,i=r;s=l=u=void 0,n=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return void 0;e=l,t=o,r=i,n=!0}},u=r(6),l=r(8),c=n(l),p=function(e){function t(){var e=this;a(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.unreadCount=c["default"].getUnreadCount(),c["default"].on(c["default"].EventType.NEW_MESSAGE,function(){return e.onUpdate()}),c["default"].on(c["default"].EventType.SET_ACTIVE_THREAD,function(){return e.onUpdate()}),c["default"].on(c["default"].EventType.SET_ACTIVE_CHAT_BOX,function(){return e.onUpdate()})}return o(t,e),i(t,[{key:"onUpdate",value:function(){this.unreadCount=c["default"].getUnreadCount(),this.emit(this.EventType.UPDATE)}},{key:"EventType",get:function(){return{UPDATE:"update"}}}]),t}(u.Representative);t["default"]=p,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var a=e,o=t,i=r;s=l=u=void 0,n=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return void 0;e=l,t=o,r=i,n=!0}},u=r(6),l=r(16),c=n(l),p=r(17),d=n(p);r(25);var f=function(e){function t(){a(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.rep=new c["default"],this.threadList=new d["default"]}return o(t,e),i(t,[{key:"toggle",value:function(){this.rep.toggle(),this.el.classList.toggle("visible",this.rep.visible)}},{key:"onClickThreadPreview",value:function(e,t){return this.rep.addChatBox(t.thread),!1}},{key:"templates_base",value:function(){var e=this.rep.visible?"visible":"";return'<threads-popover id="'+this.id+'" class="'+e+'">\n                '+this.threadList+"\n            </threads-popover>"}},{key:"events",get:function(){return{click:{"thread-preview":this.onClickThreadPreview}}}}]),t}(u.Culture);t["default"]=f,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var a=e,o=t,i=r;s=l=u=void 0,n=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return void 0;e=l,t=o,r=i,n=!0}},u=r(6),l=r(11),c=(n(l),r(8)),p=n(c),d=function(e){function t(){a(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.visible=!1}return o(t,e),i(t,[{key:"toggle",value:function(){this.visible=!this.visible}},{key:"addChatBox",value:function(e){p["default"].addChatBox(e)}},{key:"EventType",get:function(){return{INITIAL_DATA:"initial data",UPDATE:"update"}}}]),t}(u.Representative);t["default"]=d,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var a=e,o=t,i=r;s=l=u=void 0,n=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return void 0;e=l,t=o,r=i,n=!0}},u=r(6),l=r(18),c=n(l),p=r(19),d=n(p);r(23);var f=function(e){function t(){var e=this;a(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.rep=new c["default"],this.threadPreviewsById={},this.rep.on(this.rep.EventType.INITIAL_DATA,function(){return e.onInit()}),this.rep.on(this.rep.EventType.NEW_MESSAGE,function(t){return e.onNewMessage(t)})}return o(t,e),i(t,[{key:"onInit",value:function(){var e=this;this.threadPreviewsById={},this.threadPreviews=this.rep.threads.map(function(t){var r=new d["default"](t);return e.threadPreviewsById[t.id]=r,r}),this.el.innerHTML=this.threadPreviews.join("");
}},{key:"onNewMessage",value:function(e){var t=this,r=this.el;e.forEach(function(e){var n=t.threadPreviewsById[e.thread.id];n&&r.insertBefore(n.el,r.children[0])})}},{key:"templates_base",value:function(){return'<thread-list id="'+this.id+'"></thread-list>'}},{key:"dispose",value:function(){this.threadPreviews.forEach(function(e){return e.dispose()}),s(Object.getPrototypeOf(t.prototype),"dispose",this).call(this)}}]),t}(u.Culture);t["default"]=f,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var a=e,o=t,i=r;s=l=u=void 0,n=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return void 0;e=l,t=o,r=i,n=!0}},u=r(6),l=r(8),c=n(l),p=function(e){function t(){var e=this;a(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),c["default"].on(c["default"].EventType.INITIAL_DATA,function(){return e.emit(e.EventType.INITIAL_DATA)}),c["default"].on(c["default"].EventType.NEW_MESSAGE,function(t){return e.emit(e.EventType.NEW_MESSAGE,t)})}return o(t,e),i(t,[{key:"threads",get:function(){return c["default"].threads}},{key:"EventType",get:function(){return{INITIAL_DATA:"initial data",NEW_MESSAGE:"new message"}}}]),t}(u.Representative);t["default"]=p,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var a=e,o=t,i=r;s=l=u=void 0,n=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return void 0;e=l,t=o,r=i,n=!0}},u=r(6),l=r(20),c=n(l),p=r(11);n(p);r(21);var d=function(e){function t(e){var r=this;a(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.rep=new c["default"](e),this.rep.on(this.rep.EventType.SET_ACTIVE_THREAD,function(){return r.setActiveThread()}),this.rep.on(this.rep.EventType.NEW_MESSAGE,function(){return r.update()}),this.rep.on(this.rep.EventType.SET_ACTIVE_CHAT_BOX,function(){return r.setUnread()})}return o(t,e),i(t,[{key:"setActiveThread",value:function(){this.el.classList.toggle("active",this.rep.active),this.setUnread()}},{key:"setUnread",value:function(){this.el.classList.toggle("unread",this.rep.thread.unread)}},{key:"update",value:function(){this.setActiveThread(),this.$("last-message").innerText=this.rep.lastMessage}},{key:"templates_base",value:function(){var e=this.rep.active?"active":"";return'<thread-preview id="'+this.id+'" class="'+e+'">\n                <img src="'+this.rep.user.picture.thumbnail+'"/>\n                <span>\n                    <strong>'+this.rep.user.fullname+"</strong><br/>\n                    <last-message>"+this.rep.lastMessage+"</last-message>\n                </span>\n            </thread-preview>"}},{key:"thread",get:function(){return this.rep.thread}}]),t}(u.Culture);t["default"]=d,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var a=e,o=t,i=r;s=l=u=void 0,n=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return void 0;e=l,t=o,r=i,n=!0}},u=r(6),l=r(8),c=n(l),p=r(11),d=(n(p),function(e){function t(e){var r=this;a(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.thread=e,this.user=e.user,this.lastMessage=e.messages.slice(-1),c["default"].on(c["default"].EventType.SET_ACTIVE_THREAD,function(){return r.emit(r.EventType.SET_ACTIVE_THREAD)}),c["default"].on(c["default"].EventType.NEW_MESSAGE,function(e){return r.onUpdate(e)}),c["default"].on(c["default"].EventType.SET_ACTIVE_CHAT_BOX,function(){return r.emit(r.EventType.SET_ACTIVE_CHAT_BOX)})}return o(t,e),i(t,[{key:"onUpdate",value:function(e){var t=this;e.some(function(e){return e.thread.id==t.thread.id?(t.lastMessage=t.thread.messages.slice(-1),t.emit(t.EventType.NEW_MESSAGE),!0):void 0})}},{key:"active",get:function(){return this.thread==c["default"].activeThread}},{key:"EventType",get:function(){return{SET_ACTIVE_THREAD:"set active thread",NEW_MESSAGE:"new message",SET_ACTIVE_CHAT_BOX:"set active chat box"}}}]),t}(u.Representative));t["default"]=d,e.exports=t["default"]},function(e,t,r){var n=r(22);"string"==typeof n&&(n=[[e.id,n,""]]);r(4)(n,{});n.locals&&(e.exports=n.locals)},function(e,t,r){t=e.exports=r(3)(),t.push([e.id,"thread-preview{display:block;padding:5px;height:60px;color:#4d4d4d;background:#fff;line-height:140%;cursor:pointer}thread-preview.active{background-color:#6d84b4;color:#fff}thread-preview.unread{background-color:#6b90da;color:#fff;-webkit-animation:unread-pulsate 3s infinite linear}thread-preview img{height:40px;width:40px;position:absolute;border-radius:50%;margin-right:10px}thread-preview span{position:absolute;display:block;height:60px;top:5px;left:60px;width:calc(100% - 60px);text-overflow:ellipsis}thread-preview last-message{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;width:100%;display:block}@-webkit-keyframes unread-pulsate{0%,100%{background-color:#8bb0fa}50%{background-color:#6b90da}}",""])},function(e,t,r){var n=r(24);"string"==typeof n&&(n=[[e.id,n,""]]);r(4)(n,{});n.locals&&(e.exports=n.locals)},function(e,t,r){t=e.exports=r(3)(),t.push([e.id,"thread-list{position:absolute;height:100%;display:block;top:0;background:#fff;width:280px;bottom:0;padding:10px;overflow:auto}",""])},function(e,t,r){var n=r(26);"string"==typeof n&&(n=[[e.id,n,""]]);r(4)(n,{});n.locals&&(e.exports=n.locals)},function(e,t,r){t=e.exports=r(3)(),t.push([e.id,"threads-popover{position:absolute;right:0;top:60px;height:400px;width:280px;display:block;background:#fff;z-index:3;-webkit-transform:translateX(100%);-webkit-transition:.3s;border-left:1px solid #aaa;border-bottom:1px solid #aaa}threads-popover.visible{-webkit-transform:translateX(0)}",""])},function(e,t,r){var n=r(28);"string"==typeof n&&(n=[[e.id,n,""]]);r(4)(n,{});n.locals&&(e.exports=n.locals)},function(e,t,r){t=e.exports=r(3)(),t.push([e.id,"menu{position:relative;height:60px;background:#3a5795;color:#fff;padding:10px;line-height:40px}menu h1{font-weight:300;display:inline}menu button{background:0 0;color:#fff;float:right;height:40px;cursor:pointer;outline:0;border-radius:5px;border:1px solid #fff}menu button:hover{background-color:rgba(255,255,255,.1)}menu button:active{background-color:rgba(255,255,255,.3)}",""])},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var a=e,o=t,i=r;s=l=u=void 0,n=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return void 0;e=l,t=o,r=i,n=!0}},u=r(6),l=r(30),c=n(l),p=r(17),d=n(p),f=r(31),h=n(f);r(35);var m=function(e){function t(){var e=this;a(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.rep=new c["default"],this.threadList=new d["default"],this.rep.on(this.rep.EventType.UPDATE,function(){return e.onUpdate()})}return o(t,e),i(t,[{key:"onUpdate",value:function(){this.chatPane&&this.chatPane.dispose(),this.chatPane=new h["default"](this.rep.activeThread),this.chatPane.render(this.el)}},{key:"onClickThreadPreview",value:function(e){var t=u.CultureMinistry.getCulture(e.lastTarget.id);this.rep.setActive(t.thread)}},{key:"templates_base",value:function(){return'<mother-pane id="'+this.id+'">\n                '+this.threadList+"\n            </mother-pane>"}},{key:"dispose",value:function(){this.chatPane.dispose(),this.threadList.dispose(),s(Object.getPrototypeOf(t.prototype),"dispose",this).call(this)}},{key:"events",get:function(){return{click:{"thread-preview":this.onClickThreadPreview}}}}]),t}(u.Culture);t["default"]=m,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var a=e,o=t,i=r;s=l=u=void 0,n=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return void 0;e=l,t=o,r=i,n=!0}},u=r(6),l=r(8),c=n(l),p=function(e){function t(){var e=this;a(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),c["default"].on(c["default"].EventType.INITIAL_DATA,function(){return e.emit(e.EventType.UPDATE)}),c["default"].on(c["default"].EventType.SET_ACTIVE_THREAD,function(){return e.emit(e.EventType.UPDATE)})}return o(t,e),i(t,[{key:"setActive",value:function(e){c["default"].setActive(e)}},{key:"activeThread",get:function(){return c["default"].activeThread}},{key:"EventType",get:function(){return{UPDATE:"update"}}}]),t}(u.Representative);t["default"]=p,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var a=e,o=t,i=r;s=l=u=void 0,n=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return void 0;e=l,t=o,r=i,n=!0}},u=r(6),l=r(32),c=n(l);r(33);var p=function(e){function t(e){var r=this;a(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.rep=new c["default"](e),this.rep.on(this.rep.EventType.NEW_MESSAGE,function(){return r.onNewMessage()})}return o(t,e),i(t,[{key:"onNewMessage",value:function(){this.$("messages").innerHTML=this.templates_messages(),this.resetScroll_()}},{key:"resetScroll_",value:function(){var e=this.$("messages"),t=this.$("thread");e.scrollTop=e.scrollHeight,t.scrollTop=t.scrollHeight}},{key:"templates_base",value:function(){return'<chat-pane id="'+this.id+'">\n            '+this.templates_inner()+"\n            </chat-pane>"}},{key:"templates_inner",value:function(){var e=this.rep.thread.user;return'<thread>\n                <img src="'+e.picture.thumbnail+'"/>\n                <username><strong>'+e.fullname+"</strong></username>\n                <messages>\n                    "+this.templates_messages()+'\n                </messages>\n            </thread>\n            <entry>\n                <img src="'+this.rep.owner.picture.thumbnail+'"/>\n                <input type="text" placeholder="This demo is for demonstrating unread threads synchronisation, so we left message typing out for the sake of brevity."/>\n            </entry>'}},{key:"templates_messages",value:function(){return this.rep.thread.messages.map(this.templates_message).join("")}},{key:"templates_message",value:function(e){return"<message>"+e+"</message>"}},{key:"render",value:function(){for(var e=arguments.length,r=Array(e),n=0;e>n;n++)r[n]=arguments[n];s(Object.getPrototypeOf(t.prototype),"render",this).apply(this,r),this.resetScroll_(),this.$("input").focus()}},{key:"dispose",value:function(){this.rep.dispose(),s(Object.getPrototypeOf(t.prototype),"dispose",this).call(this)}}]),t}(u.Culture);t["default"]=p,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var a=e,o=t,i=r;s=l=u=void 0,n=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return void 0;e=l,t=o,r=i,n=!0}},u=r(6),l=r(8),c=n(l),p=function(e){function t(e){var r=this;a(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.thread=e,this.user=this.thread.user,this.owner=c["default"].owner,c["default"].on(c["default"].EventType.NEW_MESSAGE,function(e){return r.onNewMessage(e)})}return o(t,e),i(t,[{key:"onNewMessage",value:function(e){var t=this;e.some(function(r){return t.thread.id==r.thread.id?(t.emit(c["default"].EventType.NEW_MESSAGE,e),!0):void 0})}},{key:"dispose",value:function(){c["default"].off(c["default"].EventType.NEW_MESSAGE,this.onNewMessage),s(Object.getPrototypeOf(t.prototype),"dispose",this).call(this)}},{key:"EventType",get:function(){return{NEW_MESSAGE:"new message"}}}]),t}(u.Representative);t["default"]=p,e.exports=t["default"]},function(e,t,r){var n=r(34);"string"==typeof n&&(n=[[e.id,n,""]]);r(4)(n,{});n.locals&&(e.exports=n.locals)},function(e,t,r){t=e.exports=r(3)(),t.push([e.id,"chat-pane message,chat-pane username{margin-bottom:10px}chat-pane{display:block;position:absolute;height:100%;top:0;width:100%;left:0}chat-pane messages,chat-pane username{position:absolute;display:block;left:60px}chat-pane img{border-radius:50%;height:40px;width:40px;position:absolute}chat-pane thread{display:block;padding:10px;height:100%;width:100%}chat-pane messages{right:0;top:35px;bottom:100px;overflow:auto}chat-pane message{display:block}chat-pane entry{position:absolute;display:block;bottom:0;left:0;right:0;background:#efefef;border-top:1px solid #ddd}chat-pane input{display:block;margin:10px 10px 10px 60px;border:1px solid #aaa;padding:10px;background:#fff;width:calc(100% - 70px);height:60px;overflow:auto}chat-pane entry img{position:absolute;top:20px;left:10px}",""])},function(e,t,r){var n=r(36);"string"==typeof n&&(n=[[e.id,n,""]]);r(4)(n,{});n.locals&&(e.exports=n.locals)},function(e,t,r){t=e.exports=r(3)(),t.push([e.id,"mother-pane{position:absolute;top:60px;background:#fff;width:100%;bottom:0}mother-pane chat-pane{display:block;position:absolute;height:100%;top:0;width:calc(100% - 280px);left:280px;border-left:1px solid #ccc}",""])},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var a=e,o=t,i=r;s=l=u=void 0,n=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return void 0;e=l,t=o,r=i,n=!0}},u=r(6),l=r(38),c=n(l),p=r(31),d=n(p),f=r(11);n(f);r(39);var h=function(e){function t(e){var r=this;a(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.rep=new c["default"](e),this.chatPane=new d["default"](e),this.rep.on(this.rep.EventType.UPDATE,function(){return r.onUpdate()})}return o(t,e),i(t,[{key:"onUpdate",value:function(){this.el.classList.toggle("active",this.rep.active),this.el.classList.toggle("unread",this.rep.thread.unread)}},{key:"focus",value:function(){this.rep.minimized&&this.toggle(),this.rep.active||this.$("input").focus(),this.rep.activate(),this.onUpdate()}},{key:"close",value:function(){this.rep.close()}},{key:"render",value:function(){for(var e=arguments.length,r=Array(e),n=0;e>n;n++)r[n]=arguments[n];s(Object.getPrototypeOf(t.prototype),"render",this).apply(this,r),this.chatPane.render(this.$("content"))}},{key:"toggle",value:function(){return this.rep.minimize(),this.el.classList.toggle("minimized"),!1}},{key:"templates_base",value:function(){return'<chat-box id="'+this.id+'">\n                <header>\n                    <img src="'+this.rep.user.picture.thumbnail+'"/>\n                    <strong>\n                        '+this.rep.user.fullname+"\n                    </strong>\n                    <close>&#10006</close>\n                    <minimize></minimize>\n                </header>\n                <content></content>\n            </chat-box>"}},{key:"dispose",value:function(){this.chatPane.dispose(),this.chatPane=null,this.rep.dispose(),this.rep=null,s(Object.getPrototypeOf(t.prototype),"dispose",this).call(this)}},{key:"thread",get:function(){return this.rep.thread}},{key:"events",get:function(){return{click:{"chat-box":this.focus,close:this.close,minimize:this.toggle}}}}]),t}(u.Culture);t["default"]=h,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var a=e,o=t,i=r;s=l=u=void 0,n=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return void 0;e=l,t=o,r=i,n=!0}},u=r(6),l=r(8),c=n(l),p=r(11),d=(n(p),function(e){function t(e){var r=this;a(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.thread=e,this.user=this.thread.user,this.minimized=!1,c["default"].on(c["default"].EventType.NEW_MESSAGE,function(){return r.onUpdate()}),c["default"].on(c["default"].EventType.SET_ACTIVE_CHAT_BOX,function(){return r.onUpdate()})}return o(t,e),i(t,[{key:"onUpdate",value:function(){this.emit(this.EventType.UPDATE)}},{key:"activate",value:function(){c["default"].setActiveChatBox(this.thread)}},{key:"close",value:function(){c["default"].removeChatBox(this.thread)}},{key:"minimize",value:function(){this.minimized=!this.minimized,c["default"].setActiveChatBox(this.minimized?null:this.thread)}},{key:"dispose",value:function(){c["default"].off(c["default"].EventType.NEW_MESSAGE,this.onUpdate),c["default"].off(c["default"].EventType.SET_ACTIVE_CHAT_BOX,this.onUpdate),s(Object.getPrototypeOf(t.prototype),"dispose",this).call(this)}},{key:"active",get:function(){return this.thread==c["default"].activeChatBox}},{key:"EventType",get:function(){return{UPDATE:"update"}}}]),t}(u.Representative));t["default"]=d,e.exports=t["default"]},function(e,t,r){var n=r(40);"string"==typeof n&&(n=[[e.id,n,""]]);r(4)(n,{});n.locals&&(e.exports=n.locals)},function(e,t,r){t=e.exports=r(3)(),t.push([e.id,"chat-box close,chat-box minimize{float:right;cursor:pointer}chat-box{display:inline-block;background-color:#fff;width:220px;margin:0 5px;border:1px solid #ddd;border-bottom:none}chat-box:first-child{margin:0 10px 0 5px}chat-box header{background:#6b90da;color:#fff;padding:0 5px 0 30px;height:30px;line-height:30px}chat-box.active header{background-color:#6d84b4;color:#fff}chat-box.unread header{background-color:#6b90da;color:#fff;-webkit-animation:unread-pulsate 3s infinite linear}chat-box header strong{max-width:calc(100% - 40px);display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}chat-box img{height:20px;width:20px;border-radius:50%;position:absolute;top:5px;left:5px}chat-box entry img,chat-box.minimized content{display:none}chat-box content{height:300px;display:block}chat-box chat-pane{position:relative;padding:0}chat-box chat-pane thread{position:absolute;top:0;bottom:50px;height:auto;overflow:auto;padding-top:10px}chat-box chat-pane username{top:5px;left:35px}chat-box chat-pane img{top:5px;left:10px;height:20px;width:20px}chat-box chat-pane messages{padding:10px;top:17px;left:0;bottom:0;overflow:visible}chat-box chat-pane input{margin-left:10px;height:30px;padding:4px;width:calc(100% - 20px)}chat-box minimize{position:relative;display:inline-block;height:100%;width:17px}chat-box minimize::before{display:block;content:' ';border-bottom:3px solid #fff;height:16px;margin:0 4px}chat-box.minimized minimize::before{display:block;content:' ';border:3px solid #fff;height:4px;margin:10px 3px 0}",""])},function(e,t,r){var n=r(42);"string"==typeof n&&(n=[[e.id,n,""]]);r(4)(n,{});n.locals&&(e.exports=n.locals)},function(e,t,r){t=e.exports=r(3)(),t.push([e.id,"root{display:block;height:100%;width:100%}chat-boxes{position:absolute;bottom:0;right:0;max-width:100%;display:flex;flex-flow:row-reverse nowrap;align-items:flex-end;z-index:1}",""])}]);
//# sourceMappingURL=bundle.min.js.map